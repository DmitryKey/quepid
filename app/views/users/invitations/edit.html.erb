<%= form_for(resource, as: resource_name, url: invitation_path(resource_name), class: 'form-horizontal', html: { method: :put }) do |f| %>
<%= f.hidden_field :invitation_token, readonly: true %>
<% if resource.errors.any? %>
  <div id="error_explanation">
    <h2><%= pluralize(resource.errors.count, "error") %> prohibited this invitation from being processed:</h2>

    <ul>
    <% resource.errors.full_messages.each do |message| %>
      <li><%= message %></li>
    <% end %>
    </ul>
  </div>
<% end %>

<% if f.object.class.require_password_on_accepting %>
  <div class="field">
    <%= f.label :password %><br />
    <%= f.password_field :password %>
  </div>

  <div class="field">
    <%= f.label :password_confirmation %><br />
    <%= f.password_field :password_confirmation %>
  </div>
<% end %>

  <div class="form-group clearfix">
    <div class="col-sm-offset-2 col-sm-10">
      <%= f.submit class: 'btn btn-primary' %>
    </div>
  </div>
<% end %>

<div class="jumbotron">
  <div class="row">
    <div class="col-md-3 col-sm-4 col-md-offset-2 col-sm-offset-1">
      <h2>Accept the Invitation to join the team on Quepid!</h2>
      <p>
        </p>
      </div>
    <div class="col-md-3 col-sm-4" ng-show="isSignupEnabled">
      <div ng-controller="SignupCtrl" ng-cloak>
        <form id="signup" ng-submit="submit(agree, emailMarketingAgree, name, email, password, confirm)" >
          <h2></h2>

          <div class="alert alert-danger" ng-if="warnErr">
            Something weird happened. Contact us for assistance
          </div>

          <div class="alert alert-danger" ng-if="warnEmail">
            You must enter an email address.
          </div>

          <div class="alert alert-danger" ng-if="warnDefined">
            The email you entered is already registered!
          </div>

          <div class="alert alert-danger" ng-if="warnPass">
            The passwords do not match!
          </div>

          <div class="alert alert-danger" ng-if="warnName">
            Please provide your full name, so we can properly address you :)
          </div>

          <div class="alert alert-danger" ng-if="warnAgree">
            You must agree to the terms and conditions.
          </div>

          <div class="form-group">
            <input
              type="text"
              ng-model="name"
              class="form-control name"
              placeholder="Full Name"
              required
             />
          </div>

          <div class="form-group">
            <input type="email" ng-model="email" class="form-control email" placeholder="Email Address" required />
          </div>

          <div class="form-group">
            <input
              type="password"
              ng-model="password"
              class="form-control password"
              placeholder="Password"
              required
             />
          </div>

          <div class="form-group">
            <input
              type="password"
              ng-model="confirm"
              class="form-control password-confirm"
              placeholder="Confirm Password"
              required
             />
          </div>

          <div class="checkbox" ng-show="hasTermsAndConditions">
            <label>
              <input id="terms-and-conditions" type="checkbox" ng-model="agree" ng-required="hasTermsAndConditions"/>
              Agree to
              <a ng-href="{{ termsAndConditionsUrl }}" target="_blank">terms &amp; conditions</a>?
            </label>
          </div>

          <div class="checkbox" ng-show="isEmailMarketingMode">
            <label>
              <input id="email-marketing" type="checkbox" ng-model="emailMarketingAgree" ng-required="false"/>
              Click here if you'd like us to send you occasional news about relevance tuning with Quepid (including new features). You can unsubscribe at any time.
            </label>
          </div>


          <button class="btn btn-primary signup">Signup</button>
        </form>
      </div>
    </div>
  </div>

  <div class="row m-t-20">
    <div class="col-md-8 col-md-offset-2">
      <p>
        <a href="http://www.opensourceconnections.com/2013/10/07/quepid-give-your-search-queries-some-love/">Read more</a> about the Quepid story. <a href="mailto:TalkToUs@opensourceconnections.com">Contact us</a>
        to talk about Quepid or ask how we can help with your search problems!
      </p>
    </div>
  </div>
</div>
